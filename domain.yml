version: "3.1"

intents:
  - greet
  - recommend_movie
  - search_movie_info
  - stop
  - affirm
  - deny
  - help
  - inform

entities:
  - movie_title
  - director
  - genre
  - rating
  - age
  - country
  - platform
  - year
  - actor

forms:
  movie_recommend_form:
    required_slots:
      - genre
      - rating
      - platform

slots:
  movie_title:
    type: text
    mappings:
    - type: from_entity
      entity: movie_title
  genre:
    type: text
    mappings:
    - type: from_entity
      entity: genre
      intent: [inform, recommend_movie]
  rating:
    type: float
    mappings:
    - type: from_entity
      entity: rating
      intent: [inform, recommend_movie]
  platform:
    type: text
    mappings:
    - type: from_entity
      entity: platform
      intent: [inform, recommend_movie]

responses:
  utter_greet:
    - text: "Hello! How can I assist you today?"
    - text: "Hello! I'm your movie helper. How may I help you?"

  utter_ask_genre:
    - text: "Please tell me the genre of the movie"

  utter_ask_rating:
    - text: "Please tell me the minimum rating for the movie"

  utter_ask_platform:
    - text: "Please let me know what ott service platform you are using"

  utter_ask_continue:
    - text: "Do you want to continue?"

  utter_slots_values:
    - text: "I will recommend you a movie using following parameters\n
              - genre: {genre}\n
              - rating: >= {rating}\n
              - platform: {platform}"
  
  utter_help:
    - text: "help"

  utter_movie_info:
    - text: "Title: '{movie_title}\n
              Driector: '{director}\n
              "


actions:
- utter_greet
- action_recommend_movie
- action_store_user_info
- action_search_movie

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true